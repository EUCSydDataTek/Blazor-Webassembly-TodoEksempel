@page "/Item/Create"
@inject ITodoService _TodoService
@inject NavigationManager _Navigation

<ItemFormComponent ValidSubmit="CreateTodo"></ItemFormComponent>

@code {

    [CascadingParameter] BlazoredModalInstance BlazoredModal { get; set; } = default!;

    protected override void OnInitialized()
    {
        BlazoredModal.SetTitle("Create item");
        base.OnInitialized();
    }

    public async void CreateTodo(TodoItem item)
    {
        var newitem = await _TodoService.CreateTodoItemAsync(item);

        await BlazoredModal.CloseAsync();
        //_Navigation.NavigateTo($"/item/{newitem.Id}");
    }

}
